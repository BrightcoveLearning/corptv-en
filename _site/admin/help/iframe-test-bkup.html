<!doctype html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  
  <title>Admin iFrame Test</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/s-site-assets-favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/s-site-assets-favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/s-site-assets-favicons/favicon-16x16.png">
  <link rel="manifest" href="/assets/s-site-assets-favicons/site.webmanifest">  
<link rel="preconnect" href="https://fonts.gstatic.com"> 
<link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/prism.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/styles.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/learning-paths/learning-paths.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/landing-page.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/tabs.css">
  <link rel="stylesheet" href="/assets/css/local.css">
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro&display=swap" rel="stylesheet">
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-2728311-17"></script>
<script translate="no">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-2728311-17');
</script>
  <script src="/assets/js/sajari-head.js"></script>
  <script src="https://unpkg.com/feather-icons"></script>
</head>

<body class="body">

<style translate="no">
    #modal_wrapper {
        position: relative;
    }

    #iframe_modal {
        position: fixed;
        top: 0;
        left: 840px;
        min-width: 600px;
        min-height: 800px;
        display: none;
    }

    #modal_header {
        width: 100%;
        padding: 5px;
        margin: 0;
        background-color: rgb(8, 8, 139);
        color: white;
        text-align: right;
    }

    #doc_frame {
        min-height: 760px;
        min-width: 100%;
    }

    #close_modal {
        cursor: pointer;
    }

    .link {
        color: rgb(8, 8, 139);
        text-decoration: underline;
        cursor: pointer;
    }
</style>

<img id="background-screenshot" width="1200" src="/assets/images/for-demo/iframe-background.png" alt="">

<div id="modal_wrapper">
    <div id="iframe_modal">
        <p id="modal_header"><img id="close_modal" src="/assets/images/x.svg" alt=""></p>
        <iframe id="doc_frame" src="/admin/help/index.html"></iframe>
    </div>
</div>
<img id="button_cover" src="/assets/images/transparent.png" alt="" style="position: fixed;left: 0;top: 670px;cursor: pointer;">
<br>
<p style="margin-left: 6em;">Paste any full URL in the field below to load that page into the frame.</p>
<p style="margin-left: 6em;"><input type="text" id="src_address" size="60" value="/index.html"></p>
<p style="margin-left: 6em;"><button id="add_src">Put this page in the frame</button></p>

<p style="margin-left: 2em;">Copy and paste any of the following into the text field above to open that section of the doc in the iframe:</p>
<ul id="link_list" style="list-style: none;">
    <li class="link" data_link="/admin/help/account-information.html">/admin/help/account-information.html</li>
    <li class="link" data_link="/admin/help/user-management.html">/admin/help/user-management.html</li>
    <li class="link" data_link="/admin/help/account-settings.html">/admin/help/account-settings.html</li>
    <li class="link" data_link="/admin/help/upload-settings.html">/admin/help/upload-settings.html</li>
    <li class="link" data_link="/admin/help/ingest-profiles/profiles-list.html">/madmin/help/ingest-profiles/profiles-list.html</li>
    <li class="link" data_link="/admin/help/ingest-profiles/simple-editor.html">/admin/help/ingest-profiles/simple-editor.html</li>
    <li class="link" data_link="/admin/help/ingest-profiles/renditions-list.html">/admin/help/ingest-profiles/renditions-list.html</li>
    <li class="link" data_link="/admin/help/ingest-profiles/advanced-editor.html">/admin/help/ingest-profiles/advanced-editor.html</li>
    <li class="link" data_link="/admin/help/video-fields.html">/admin/help/video-fields.html</li>
    <li class="link" data_link="/admin/help/language-settings.html">/admin/help/language-settings.html</li>
    <li class="link" data_link="/admin/help/media-sharing.html">/admin/help/media-sharing.html</li>
    <li class="link" data_link="/admin/help/ssai-settings.html">/admin/help/ssai-settings.html</li>
    <li class="link" data_link="/admin/help/player-settings.html">/admin/help/player-settings.html</li>
    <li class="link" data_link="/admin/help/api-auth.html">/admin/help/api-auth.html</li>
</ul>

<script translate="no">
    /**
     * find index of an object in array of objects
     * based on some property value
     * 
     * @param {array} targetArray array to search
     * @param {string} objProperty object property to search
     * @param {string} value of the property to search for
     * @return {integer} index of first instance if found, otherwise returns -1
     */
    function findObjectInArray(targetArray, objProperty, value) {
        var i, totalItems = targetArray.length,
            objFound = false;
        for (i = 0; i < totalItems; i++) {
            if (targetArray[i][objProperty] === value) {
                objFound = true;
                return i;
            }
        }
        if (objFound === false) {
            return -1;
        }
    }

    var screenshotsAra = [{
                name: 'page-type',
                imagePath: '/assets/images/for-demo/page-type.png'
            },
            {
                name: 'page-title',
                imagePath: '/assets/images/for-demo/page-title.png'
            },
            {
                name: 'page-layout',
                imagePath: '/assets/images/for-demo/page-layout.png'
            },
            {
                name: 'page-details',
                imagePath: '/assets/images/for-demo/page-details.png'
            },
            {
                name: 'choose-playlist',
                imagePath: '/assets/images/for-demo/choose-playlist.png'
            }
        ],
        imagePathIndex,
        imagePath,
        imageElement;
    console.log(screenshotsAra);
    window.addEventListener('message', function(e) {
        console.log('e.data: ', e.data)
        imagePathIndex = findObjectInArray(screenshotsAra, 'name', e.data);
        console.log('imagePathIndex: ', imagePathIndex)
        imagePath = screenshotsAra[imagePathIndex].imagePath;
        console.log('imagePath: ', imagePath);
        imageElement = document.getElementById('background-screenshot');
        console.log('imageElement: ', imageElement);
        imageElement.src = imagePath;
    }, false);
</script>

<script translate="no">
    var src_address = document.getElementById('src_address'),
        add_src = document.getElementById('add_src'),
        doc_frame = document.getElementById('doc_frame'),
        side_nav = document.getElementById('side_nav'),
        iframe_modal = document.querySelector('#iframe_modal'),
        close_modal = document.querySelector('#close_modal'),
        button_cover = document.getElementById('button_cover'),
        link_list = document.getElementById('link_list'),
        links = link_list.children;

    for (var i = 0; i < links.length; i++) {
        links[i].addEventListener('click', function() {
            src_address.value = this.getAttribute('data_link');
        })
    }

    add_src.addEventListener('click', function() {
        doc_frame.setAttribute('src', src_address.value);
    });
    button_cover.addEventListener('click', function() {
        iframe_modal.setAttribute('style', 'display:block');
    });
    close_modal.addEventListener('click', function() {
        iframe_modal.setAttribute('style', 'display:none');
    });

    side_nav.setAttribute('style', 'display:none');

    function removeFeedbackify() {
        var t,
            feedbackify = document.getElementById('feedbackify');
        console.log('feedbackify', feedbackify);
        if (feedbackify) {
            var feedbackify_parent = feedbackify.parentNode;
            console.log('feedbackify_parent', feedbackify_parent);
            feedbackify_parent.removeChild(feedbackify);
        } else {
            console.log('retry');
            t = window.setTimeout(removeFeedbackify, 2000);
        }
    }

    removeFeedbackify();
</script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/https-fix.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/setDate.js"></script>
  
  <script src="https://support.brightcove.com/site-assets/js/site/prism.js"></script>
  
  <!-- <script src="https://support.brightcove.com/site-assets/js/site/site.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/tabs.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/toc.js"></script>
  <script src="/assets/js/sites_nav.js"></script> -->
  <script src="https://support.brightcove.com/site-assets/js/site/bcls-utils.js"></script>
  <!-- <script src="https://support.brightcove.com/site-assets/js/site/local-link-fix.js"></script> -->
  <!-- <script src="/assets/js/feedback.js"></script> -->
  <!-- <script src="/assets/js/local.js"></script> -->
  <!-- <script src="/assets/js/sajari-index.js"></script> -->
  
		<script translate="no">
			feather.replace()
		</script>
</body>

</html>
