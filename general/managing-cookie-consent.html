---
title: "Managing Cookie Consent Using OneTrust"
description: "In this topic, you will learn how to implement OneTrust Cookie Compliance with Brightcove Beacon."
parent: "General Information"
layout: "staging"
---

<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>


  <section class="bcls-section">
    <h2 id="Introduction">Introduction</h2>
    <aside class="bcls-aside bcls-aside--warning language-editable">The first step in an implementation of cookie compliance is checking with your legal team and determine rules and regulations for all geographies your are targeting with your content.</aside>
    <p>Cookies are used to store data on a visitor's computer or mobile device. Cookies are commonly used and sometimes critical to a website's functionality. Problems can occur as cookies can be used to store large amounts of data, store personal data and track online activity so advertisers can target ads. Because of the negatives that are associated with cookies, regulations have evolved around them. The two most common are:</p>
    <ul>
      <li>California Consumer Privacy Act (CCPA)</li>
      <li>General Data Protection Regulation (GDPR) used in the EU and United Kingdom</li>
    </ul>
    <p>This document is an introduction to get you started using OneTrust's Cookie Compliance tool with Brightcove Beacon. Brightcove recommends using OneTrust for your Beacon cookie compliance needs.</p>
    <aside class="bcls-aside bcls-aside--tip language-editable">
      <p>For further general information on cookies, regulation rules and cookie compliance see OneTrust's <a href="https://www.cookiepro.com/knowledgebase/">CookiePro Knowledge Base</a> document. For complete details on OneTrust's tools see the <a href="https://my.onetrust.com/s/topic/0TO1Q000000ItRyWAK/cookie-compliance">Cookie Compliance</a> section of documentation at OneTrust.</p>
    </aside>
  </section>


  <section class="bcls-section">
    <h2 id="How_it_works">How it works</h2>
    <p>The end result of setting up OneTrust Cookie Compliance is that a banner will appear in the Beacon App for geographic locations you choose. Here is an example of what the banner could look like (taken from OneTrust's site):</p>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/one-trust-banner.png" alt="one trust banner">
    </figure>
    <p>When a viewer clicks on the <strong>Customize Settings</strong> link in the banner, a <strong>Preference Center</strong> dialog appears. This allows your viewers to customize how cookies behave in their app:</p>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/one-trust-preference-center.png" alt="one trust preference center">
    </figure>
    <p>As part of the implementation process you will have the option to customize the text displayed in, and the look of, both the banner and preference center.</p>
    <h3>Overview of implementation process</h3>
    <p>There are a number of steps to complete to implement OneTrust's cookie compliance with your Beacon app. Here is an overview of that process:</p>
    <ol>
      <li>Create templates that define your banner and preference center functionality and upload your logo for each template created. You will copy templates supplied by Brightcove as the foundation for your templates.</li>
      <li>Create a geolocation rule group, which will act as a container for geolocation rules.</li>
      <li>Create three geolocation rules that:
        <ul>
          <li>Define the regions in which the cookie compliance will be used.</li>
          <li>Define the template to be used with the geolocation rule.</li>
          <li>Define other specifications, like how often re-consent will need to be done.</li>
        </ul>
      </li>
      <li>Assign geolocation rules to the domains from which your Beacon app is served.</li>
      <li>Generate the scripts that provide the actual cookie compliance in your Beacon app.</li>
      <li>Supply the scripts to your web team for implementation.</li>
    </ol>
    <p>The major sections following in this document lead you step by step through the implementation process.</p>
    <h3>Implementation architecture</h3>
    <p>The following gives a look "under the hood" of how OneTrust Cookie Compliance integrates with your Beacon app.</p>
    <p>The key to integrating OneTrust into your Beacon web app is the <strong>data-domain-script</strong> that is used to tie each domain name with the SDK that will perform all the functionalities OneTrust provides. In a nutshell, the <strong>data-domain-script</strong> is used to identify each domain name that is using the SDK. Your Beacon web app needs to know the <em>data-domain-script <strong>id</strong></em> assigned to a certain customer(domain name). Beacon Classic provides the <em>data-domain-script id</em> into the <strong>privacy_management_platform</strong> field by hitting the <strong>api/settings</strong> endpoint.</p>
    <p>Here is an architecture diagram of the implementation:</p>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/architecture-diagram.png" alt="architecture diagram">
    </figure>
  </section>


  <section class="bcls-section">
    <h2 id="Create_a_template">Create two templates</h2>
    <p>A template defines how your banner and preferences dialog appear to your users. In the following steps you will copy a template supplied by Brightcove and customize it for your needs, once for CCPA and once for GDPR.</p>
    <aside class="bcls-aside bcls-aside--tip language-editable">You may not need both templates. As stated earlier, generally CCPA is used for California and GDPR for EU and UK. If you are not targeting one of these regions the corresponding template may not be needed. You should investigate your targeted geographies to check on cookie compliance regulations. The step-by-step instructions will cover creating both templates.</aside>

    <ol class="bcls-tasklist">
      <li>Log in to your OneTrust account.</li>
      <li>From the <em>Welcome</em> page, click the <strong>Cookie Compliance</strong> option.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/onetrust-index.png" alt="onetrust index page">
        </figure>
      </li>
      <li>In the left navigation, click <strong>Templates</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/click-templates.png" alt="click templates">
        </figure>
      </li>
      <li>Choose <strong>Beacon web app template CCPA</strong> to copy and click the ellipses icon on the far right. You will base your CCPA template off of this Brightcove supplied template.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/click-ellipses.png" alt="click ellipses">
        </figure>
      </li>
      <li>From the menu that appears, click <strong>Copy Template</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/copy-template.png" alt="copy template">
        </figure>
      </li>
      <li>Provide a name for your template, select your organization, and click <strong>Copy Template</strong>. You might have several templates, so meaningful names are important, like <strong>Web-[YourCompanyName]-CCPA</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/name-template.png" alt="name template">
        </figure>
      </li>
      <li>The <em>Template Details</em> page opens to the <em>Banner</em> tab. Click <strong>Preference Center</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/details-banner-tab.png" alt="/details banner tab">
        </figure>
      </li>
      <li>In the <em>Preference Center</em>:
        <ol type="a">
          <li>Open the <strong>Styling</strong> options</li>
          <li>Enable <strong>Override Banner Styling</strong></li>
          <li>Upload a new logo</li>
        </ol>
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/upload-new-logo.png" alt="upload new logo">
        </figure>
        <aside class="bcls-aside bcls-aside--warning language-editable">There is no need to make any other styling changes here as the banner and preference center will automatically be styled based on the design of your Beacon app.</aside>
      </li>
      <li>Note that the logo is updated in the preview.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/logo-updated.png" alt="logo updated">
        </figure>
      </li>
      <li>Click <strong>Save Template</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/save-template.png" alt="Save template">
        </figure>
      </li>
      <li>Now create another template:
        <ul>
          <li>Copy the <strong>Beacon web app template GDPR TCF 2</strong> template.</li>
          <li>Suggested naming convention for your template is <strong>Web-[YourCompanyName]-GDPR</strong>.</li>
          <li>Update the logo.</li>
        </ul>
    </ol>
  </section>


  <section class="bcls-section">
    <h2 id="Create_geolocation_rules">Create geolocation rules</h2>
    <p>Creating geolocation rules first requires that you create a geolocation rule group. The group will act as a container for the rules you create. The actual geolocation rules define cookie compliance behaviors you wish for different geographic regions.</p>
    <ol class="bcls-tasklist-restart">
      <li>To start the process, create a new rule group by:
        <ol type="a">
          <li>In the left navigation, click <strong>Geolocation Rules</strong>.</li>
          <li>Click <strong>Create New</strong>.
            <figure class="bcls-figure">
              <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/geo-rules-index.png" alt="geo rules index">
            </figure>
          </li>
        </ol>
      </li>
      <li>In the <strong>Create New Rule Group</strong> dialog, supply a group name, organization and description.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/create-rule-group.png" alt="create rule group">
        </figure>
      </li>
      <li>Click <strong>Create</strong>.</li>
      <li>To create your first actual geolocation rule, from the rule group details page, click <strong>Add Rule</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/geo-add-rule.png" alt="geo add rule">
        </figure>
      </li>
      <li>You will now create the CCPA rule. The following table provides settings you need to make to be compatible with Beacon. Other changes can be made based on regulations for your targeted geographies.
        <aside class="bcls-aside bcls-aside--tip language-editable">As with templates, you may not need all the rules based on locations your Beacon app is targeting.</aside>
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Form element</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td>Rule Name</td>
              <td>Provide a name</td>
            </tr>
            <tr>
              <td>Regions</td>
              <td>For CCPA, you would most likely want to include <em>California</em>, then any other desired regions.</td>
            </tr>
            <tr>
              <td>Template</td>
              <td>Choose the template created that was based on the Brightcove supplied <strong>Beacon web app template GDPR TCF 2</strong>.</td>
            </tr>
            <tr>
              <td>Cookie Categories</td>
              <td>Opt-out</td>
            </tr>
            <tr>
              <td>Capture Records of Consent</td>
              <td>Enabled</td>
            </tr>
            <tr>
              <td>Advanced Analytics</td>
              <td>Strictly Necessary Cookies</td>
            </tr>
          </tbody>
        </table>
      <li>Create the GDPR rule. Be sure to supply the following values to insure compatibility with Beacon. Other values can be set as needed to meet other regulations.
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Form element</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td>Rule Name</td>
              <td>Provide a name</td>
            </tr>
            <tr>
              <td>Regions</td>
              <td>For GDPR, you would most likely want to include <em>Eu</em> and <em>United Kingdom</em>, then any other desired regions.</td>
            </tr>
            <tr>
              <td>Template</td>
              <td>Choose the template created that was based on the Brightcove supplied <strong>Beacon web app template CCPA</strong>.</td>
            </tr>
            <tr>
              <td>Cookie Categories</td>
              <td>Opt-in</td>
            </tr>
            <tr>
              <td>Capture Records of Consent</td>
              <td>Enabled</td>
            </tr>
            <tr>
              <td>Advanced Analytics</td>
              <td>Strictly Necessary Cookies</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>You may wish to create a rule that can be applied to regions NOT selected for the CCPA or GDPR rules. It might be applied to all other regions, and because of this you might want to name this rule <strong>Global</strong>. Be sure to supply the following values to insure compatibility with Beacon. Other values can be set as needed to meet other regulations.
        <table class="bcls-table">
          <thead class="bcls-table__head">
            <tr>
              <th>Form element</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody class="bcls-table__body">
            <tr>
              <td>Rule Name</td>
              <td>Provide a name</td>
            </tr>
            <tr>
              <td>Regions</td>
              <td>If this rule create for all regions not previously selected, do not enter any regions</td>
            </tr>
            <tr>
              <td>Template</td>
              <td>A template must be selected, but which template is based on regulations in targeted regions.</td>
            </tr>
            <tr>
            <tr>
              <td>Capture Records of Consent</td>
              <td>Enabled</td>
            </tr>
            <tr>
              <td>Advanced Analytics</td>
              <td>Strictly Necessary Cookies</td>
            </tr>
            <tr>
              <td>Checkbox: Use this consent model if site visitor's IP address is unknown</td>
              <td>Consider this option if this rule acting in a global capacity.</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Assign_geolocation_rules_to_domains">Assign geolocation rules to domains</h2>
    <p></p>
    <ol class="bcls-tasklist-restart">
      <li>In the left navigation, click <strong>Geolocation Rules</strong>.</li>
      <li>For the <em>Geolocation Rule Group</em> you created, click the ellipses icon and select <strong>Assign to Domains</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/rule-group-assign-to-domains.png" alt="rule group assign to domains">
        </figure>
      </li>
      <li>Select the appropriate domains, then click <strong>Assign</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/rule-group-assign-to-domains-confirm.png" alt="rule group assign to domains confirm">
        </figure>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Create and copy scripts">Create and copy scripts</h2>
    <ol class="bcls-tasklist--restart">
      <li>From the Cookie Compliance index page:
        <ol type="a">
          <li>In the left navigation, click <strong>Scripts</strong>.</li>
          <li>Click the domain where your cookie compliance will be implemented.</li>
          <figure class="bcls-figure">
            <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/scripts-index.png" alt="scripts index">
          </figure>
        </ol>
      </li>
      <li>In the details screen for your domain, click <strong>Publish Test</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/publish-test.png" alt="publish test">
        </figure>
      </li>
      <li>in the <em>Test Website</em> dialog:
        <ul>
          <li>Set the script version to <strong>6.29.0</strong>.</li>
          <li>Click <strong>Confirm</strong>.</li>
        </ul>
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/test-website-confirm.png" alt="test website confirm">
        </figure>
      </li>
      <li>Ensure the settings are those in the following screenshot, the click <strong>Publish Test Scripts</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/publish-test-scripts-dialog.png" alt="publish test scripts dialog">
        </figure>
      </li>
      <li>If a <em>Live Preview</em> dialog displays, click <strong>Cancel</strong>.</li>
      <li>Click the <strong>Test Scripts</strong> tab.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/test-scripts.png" alt="test scripts">
        </figure>
      </li>
      <li>Click <strong>Copy Scripts</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/managing-cookie-consent/copy-scripts-by-download.png" alt="copy scripts">
        </figure>
      </li>
      <li>Provide the scripts to Brightcove's OTT Delivery Team for proper deployment.</li>
    </ol>
  </section>

</article>